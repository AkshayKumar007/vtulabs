.MODEL SMALL
.DATA
	A DW 2220H,7770H,4440H,1110H,5550H 		; 16 BIT ARRAY
	LEN DW ($-A)/2					; len = (last_index - first_index)/2

.CODE
	MOV AX,@DATA
	MOV DS,AX

	MOV CX,2			; start from second element, actual count

OUTLOOP:	MOV DX,CX		; DX IS ACTUAL COUNTER
			
			DEC DX			; PREVIOUS ELEMENT
			MOV SI,DX		; SI IS BYTE COUNTER
			ADD SI,SI		; ADJUST INDEX
			MOV AX,A[SI]	; SAVE VALUE OF A[SI] TO BE COPIED BACK LATER

INLOOP:		CMP A[SI-2],AX
			JBE INEXIT	; NO NEED TO CHANGE IF PREVIOUS IS SMALLER OR EQUAL

			MOV DI,A[SI-2]		; SWAPPING CODE
			MOV A[SI],DI

			DEC SI 			; TWICE SINCE SI IS BYTE COUNTER
			DEC SI

			DEC DX 			; ONCE SINCE DX IS ACTUAL COUNTER

			JNZ INLOOP 		; KEEP MOVING ALL ELEMENTS

INEXIT:		MOV A[SI],AX 		; COPY SAVED VALUE BACK
			
			INC CX 				; NEXT ITERATION I++

			CMP CX,LEN
			JBE OUTLOOP			; ITERATE IF CX <= LEN

			MOV AH,4CH
			INT 21H

END